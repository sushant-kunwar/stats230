---
title: "Final Porject"
output: html_document
date: "2024-04-29"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r}
States <- read.csv("/Users/sushantkunwar/Downloads/archive (1)/states_all_extended.csv")
View(States)


```

## Data Cleaning
```{r}

#Creating a Unified ENROLLMENT column by taking the max of 2 Columns with data from different sources(ENROLL & A_A_A)
States$ENROLLMENT <- pmax(States$A_A_A, States$ENROLL, na.rm = T)
View(States)

#New Variable: Proportional Instruction Expenditure
States$PROP_INSTRUCTION_EXPENDITURE <- States$INSTRUCTION_EXPENDITURE / States$TOTAL_EXPENDITURE

#New Variable: Difference between Male and Female Math Scores in Grade 8(M-F)
States$MATH_GENDER_DIF <- States$G08_A_M_MATHEMATICS - States$G08_A_F_MATHEMATICS

#Rename Variables:
States$AVG_MATH <- States$G08_A_A_MATHEMATICS
States$AVG_MATH_M <- States$G08_A_M_MATHEMATICS
States$AVG_MATH_F <- States$G08_A_F_MATHEMATICS

#Creating a data frame for data from just 1992
States1992 <- States[c(1:51), ]
View(States1992)

#Creating a data frame for data from just 2016
States2015 <- States[c(1174:1224), ]
View(States2015)

#making the row numbers the state name 1992
rownames(States1992) <- States1992$STATE

#Removing the PRIMARY_KEY and STATE columns as it'll be redundant/confusing later 1992
States1992 <- States1992[ ,-1]
States1992 <- States1992[ ,-1]
View(States1992)

#making the row numbers the state name 2015
rownames(States2015) <- States2015$STATE

#Removing the PRIMARY_KEY and STATE columns as it'll be redundant/confusing later 2015
States2015 <- States2015[ ,-1]
States2015 <- States2015[ ,-1]
View(States2015)

#Removing Columns with all NAs
States1992 <- States1992[ ,colSums(is.na(States1992)) < nrow(States1992)]
View(States1992)

States2015 <- States2015[ ,colSums(is.na(States2015)) < nrow(States2015)]
View(States2015)

```
Our data cleaning process was relatively simple. The data set we picked contains information for all states in rows, however there are multiple years worth of data. To keep our process smooth we decided to pick two years worth of data(1992 and 2015). We made separate data frames for these two years so that each row was an individual state in both data frames with no repeats for states. This also allowed us to use the 'rownames' to make the rows just be the state names instead of a number, allowing us to remove redundant columns such as PRIMARY_KEY(the state and year of data) and STATE(the state name). Additionally, our data set contained redundant columns for enrollment data which slightly differed as well. To fix this we used the 'pmax' function to take the max of the two columns and store it into a new ENROLLMENT column that we will use. We renamed a few of the variables we planned on using with particularly confusing names. Then, for both of the data frames, we removed the columns with all NA values suing 'colSums' and 'is.na'. With this, we had our data organized and structured in a way that would allow for us to better visualize and analyze it.


## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.


Sections of the Report
• Introduction (Background, motivation) – not more than a short paragraph.

In this project, we aim to analyze a comprehensive dataset that encapsulates various dimensions of U.S. education data, consolidating financial, demographic, and academic performance indicators at the state level into a single accessible format. The dataset, drawn from multiple authoritative sources, includes detailed breakdowns by race, gender, and grade level, alongside revenue and expenditure figures. By focusing on data from the years 1992 and 2015, we intend to explore changes and trends over time, providing insights into the evolution of educational environments across the states. This analysis not only seeks to uncover underlying patterns in educational achievement and funding but also to highlight areas of progress and ongoing challenges within the U.S. educational system.

• DATA: Make a LIST of all variables you actually use – describe units, anything I should
know. Ignore variables you don’t discuss.
YEAR
STATE
GRADES_ALL: the NCES's estimate for students in the state
ENROLL: The U.S. Census Bureau's count for students in the state. Should be comparable to GRADES_ALL
A_A_A (same as GRADES_ALL): Should be same data as above
TOTAL REVENUE: The total amount of revenue for the state.
TOTAL_EXPENDITURE: The total expenditure for the state.
INSTRUCTION_EXPENDITURE: Expenditure going toward instruction
*PROP_INSTR_EXP: proportion instruction expenditure CREATE THIS ONE (JUST INSTRUCTION/TOTAL)*
G08_A_A_MATHEMATICS: Average math score of eighth grade students
G08_A_M_MATHEMATICS: Average math score of eighth grade students that are classified as "male"
G08_A_F_MATHEMATICS: Average math score of eighth grade students that are classified as "female"
*G08_MATH_MFDiff: CREATE THIS ONE (just G08_A_M_MATHEMATICS - G08_A_F_MATHEMATICS)*
*Scores_to_InstrExpenditure: CREATE THIS ONE, relates expenditure on instruction to test scores*





• Data cleaning process – describe the cleaning process you used on your data. Talk
about what issues you encountered. It’s ok if your data was already relatively clean.

**Cleaning Plan**
Update our working dataframes to be just the columns we will use in our tests

• Descriptive Plots, summary information. Plots should be clearly labeled, well formatted,
and display an aesthetic sense.

• Analysis – see below
*can analyze that theres a bigger gap in 8th grade test scores among men and women*

• Conclusions and Summary – a short paragraph.

